<!DOCTYPE html>
<html>
<head>
    <title>Real-Time Posts</title>
</head>
<body>
    <h1>Real-Time Posts</h1>
    <ul id="post-list">
        <!-- Existing posts -->
    </ul>

    <script>
        const socket = new WebSocket('ws://' + window.location.host + '/ws/posts/');

        socket.onmessage = function(e) {
            const data = JSON.parse(e.data);
            const message = data.message;

            // Update the DOM with the new message
            const postList = document.getElementById('post-list');
            const newPost = document.createElement('li');
            newPost.textContent = message;
            postList.appendChild(newPost);
        };

        socket.onclose = function(e) {
            console.error('WebSocket closed unexpectedly');
        };
    </script>
</body>
</html>
